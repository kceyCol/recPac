<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AudioToText</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/recording-controls.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/utilities.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/modals.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="nav-links" style="position: absolute; top: 30px; left: 40px; z-index: 2;">
                <a href="/transcriptions" class="nav-link" style="background: rgba(255, 255, 255, 0.15); color: white; border: 1px solid rgba(255, 255, 255, 0.2); padding: 12px 24px; border-radius: 50px; text-decoration: none; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); font-weight: 500; backdrop-filter: blur(10px); display: inline-flex; align-items: center; gap: 8px;">
                    <i class="fas fa-file-alt"></i>
                    TranscriÃ§Ãµes
                </a>
            </div>
            <h1>ğŸ¤ AudioToText</h1>
            <p>Sistema de GravaÃ§Ã£o e TranscriÃ§Ã£o de Ãudio</p>
            <div class="user-info">
                <span>ğŸ‘¤ {{ user_name }}</span>
                <a href="/logout" class="logout-btn">ğŸšª Sair</a>
            </div>
        </div>
        
        <div class="main-content">
            <div class="recording-controls">
                <h2>ğŸ™ï¸ Controles de GravaÃ§Ã£o</h2>
                <p>Clique em "Iniciar" para comeÃ§ar a gravar. A gravaÃ§Ã£o serÃ¡ segmentada automaticamente a cada 5 minutos.</p>
                
                <div class="controls-row">
                    <button id="recordBtn" class="btn record">ğŸ”´ Iniciar GravaÃ§Ã£o</button>
                    <button id="stopBtn" class="btn stop" disabled>â¹ï¸ Parar GravaÃ§Ã£o</button>
                    <button id="refreshBtn" class="btn refresh">ğŸ”„ Atualizar Lista</button>
                </div>
            </div>
            
            <div id="status" class="status hidden"></div>
            
            <div class="recordings-section">
                <h2>ğŸ“ Suas GravaÃ§Ãµes</h2>
                <div id="recordingsList" class="recordings-list">
                    <p>Carregando gravaÃ§Ãµes...</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Nome do Paciente -->
    <div id="patientModal" class="modal">
        <div class="modal-content">
            <h3>ğŸ‘¤ Nome do Paciente</h3>
            <input type="text" id="patientNameInput" placeholder="Digite o nome do paciente (opcional)">
            <div class="modal-buttons">
                <button class="modal-btn save" onclick="saveWithPatientName()">ğŸ’¾ Salvar com Nome</button>
                <button class="modal-btn cancel" onclick="saveWithoutPatientName()">ğŸ“ Salvar sem Nome</button>
            </div>
        </div>
    </div>
    
    <!-- Modal Renomear -->
    <div id="renameModal" class="modal">
        <div class="modal-content">
            <h3>âœï¸ Renomear GravaÃ§Ã£o</h3>
            <input type="text" id="renameInput" placeholder="Digite o novo nome">
            <div class="modal-buttons">
                <button class="modal-btn save" onclick="confirmRename()">âœ… Confirmar</button>
                <button class="modal-btn cancel" onclick="closeRenameModal()">âŒ Cancelar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal TranscriÃ§Ã£o -->
    <div id="transcriptionModal" class="modal transcription-modal">
        <div class="modal-content">
            <h3>ğŸ“„ TranscriÃ§Ã£o</h3>
            <div id="transcriptionText" class="transcription-text"></div>
            <div class="modal-buttons">
                <button class="modal-btn cancel" onclick="closeTranscriptionModal()">âŒ Fechar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal ConfirmaÃ§Ã£o -->
    <div id="confirmModal" class="modal confirm-modal">
        <div class="modal-content">
            <h3>ğŸ—‘ï¸ Confirmar ExclusÃ£o</h3>
            <p>Tem certeza que deseja deletar esta gravaÃ§Ã£o?<br>
            <strong>Esta aÃ§Ã£o nÃ£o pode ser desfeita!</strong></p>
            <div class="modal-buttons">
                <button class="modal-btn save" style="background-color: #e74c3c;" onclick="confirmDelete()">ğŸ—‘ï¸ Deletar</button>
                <button class="modal-btn cancel" onclick="closeConfirmModal()">âŒ Cancelar</button>
            </div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>